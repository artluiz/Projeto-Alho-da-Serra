{% extends "base.html" %}

{% block page_title %} Estufas {% endblock page_title %}

{% block content %}
    {% if estufa_list %}
    <table class="table fs-5">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nome Estufa</th>
          <th scope="col">Área</th>
          <th scope="col">Fazenda</th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for estufa in estufa_list %}
        <tr>
          <th scope="row">{{ estufa.pk }}</th>
          <td>{{ estufa.nome_estufa }}</td>
          <td>{{ estufa.area }}</td>
          <td>{{ estufa.Fazenda }}</td>
          <td>
            <a href="{% url 'estufa_update' pk=estufa.pk %}"
               class="btn btn-secondary btn {% if estufa.data_aplicada %}disabled{% endif %}"
            >
              Editar
            </a>
            <a href="{% url 'estufa_toggle_active' pk=estufa.pk %}" {% if  estufa.ativo %}class="btn btn-danger btn"{% else %}class="btn btn-success btn"{% endif %} 
            >{% if estufa.ativo %} Cancelar {% else %}&nbsp;&nbsp;Ativar&nbsp;&nbsp;{% endif %}</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>Não há tarefas cadastradas</p>
    {% endif %}
    <a href="{% url "estufa_create"%}" class="btn btn-primary btn-lg"> Cadastrar Estufa</a>
    {% endblock content %}
    